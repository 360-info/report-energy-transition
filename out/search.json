[
  {
    "objectID": "analysis/ipcc/index.html",
    "href": "analysis/ipcc/index.html",
    "title": "Analysis of IPCC decarbonisation cost/potential data",
    "section": "",
    "text": "library(tidyverse)\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.3     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.4     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.0\n✔ purrr     1.0.1     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nlibrary(here)\n\nhere() starts at /workspaces/report-energy-transition\n\n\n\nhere(\"data\", \"ipcc-decarbonisation-costs-unprocessed.csv\") |&gt;\n  read_csv() -&gt;\nsolutions\n\nRows: 144 Columns: 4\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (3): category, item, cost_bucket\ndbl (1): potential_abatement_mtco2eq\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\nLet’s work out the fraction of a solution’s potential each cost bucket represents.\nWe also want to do this for the uncertainty, but we want to be careful about not including the uncertainty in the bucket sums themselves, so let’s move the uncertainty to the end of each group.\nFinally, we’re going to rank the solutions within each cost bucket by their abatement potential. This will make positioning the bubbles easier in Observable Plot, as we don’t have another axis upon which to position the bubbles.\n\nsolutions |&gt;\n  mutate(is_uncertainty = cost_bucket == \"Uncertainty\") |&gt;\n  group_by(item) |&gt;\n  arrange(is_uncertainty) |&gt;\n  mutate(\n    potential_frac = potential_abatement_mtco2eq /\n      sum(head(potential_abatement_mtco2eq, -1))) |&gt;\n  group_by(cost_bucket) |&gt;\n  arrange(potential_abatement_mtco2eq) |&gt;\n  mutate(cost_bucket_potential_rank = 1:n()) -&gt;\nsolution_fracs\n\n\nsolution_fracs |&gt;\n  write_csv(here(\"data\", \"ipcc-decarbonisation-costs-processed.csv\"))"
  }
]